var HID = require('node-hid');
console.log(HID.devices());

var controller = new HID.HID(1356, 2508);
//var controller = new HID.HID(1452, 657);
var x = 0;
controller.on('data', function(data) {
    if (x === 30) {
        //battery
        // console.log(data[12]);
        // console.log(data[12] & 0x0f);
        // console.log(data[12] & 0xf0);
        //X
        //        console.log(data[37] & 0x0f);
        //      console.log(((data[37] & 7) << 8) | data[36]);
        //        console.log(data[38] << 4 | ((data[37] & 0xf0) >> 4));
        //y
        //        console.log(data[38]);
        //--        console.log(data[33]);

        // for (var i = 10; i < 23; i++) {
        //     console.log(i + " " + data[i]);
        // }


        //TouchPad work:
        //TouchPad active
        //Finger 1
        //console.log((data[35] < 128));

        //TouchPad active
        //Finger 2
        //console.log(data[39] < 128);

        //Touchpad X Axis.
        //console.log(((data[37] & 15) << 8| data[36]) >> 3);
        //console.log((data[37] & 15) << 8| data[36]);

        //TouchPad Y Axis.
        //console.log(data[38] << 4);

        //console.log((data[38] << 4 | ((data[37] & 0xf0) >> 4)) >> 2);
        console.log(data);
    }
    x = (x + 1) % 31;
    //possible touch pad.


});



function grandFather() {
    var i = 0;

    function father() {
        var i = 5;

        function son() {
            console.log(i === 0);
        }
        son();
    }
    father();
}
